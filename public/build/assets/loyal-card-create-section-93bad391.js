import{r,a as p,u as d,ai as l,j as e,m as x,c as f}from"./app-1d620b42.js";import h from"./drawer-action-66d691f2.js";import{c as b}from"./loyal-card-thunk-4464513f.js";import"./XMarkIcon-5743dc3c.js";import"./transition-474f4f69.js";import"./use-flags-a77cc0dc.js";import"./open-closed-aa665c68.js";import"./dialog-9a6dd2ff.js";import"./use-root-containers-9109315f.js";import"./keyboard-ad39f0b6.js";import"./description-9483d9ef.js";import"./loyal-card-service-8d6deeca.js";function E(){const[n,o]=r.useState(!1),a=p(),{loyalCardForm:s}=d(t=>t.loyal_card),{toastStatus:i}=d(t=>t.app);r.useEffect(()=>{i.status=="success"&&o(!1)},[i.status]);function u(t){t.preventDefault(),f.dispatch(b())}return r.useEffect(()=>{n&&a(l({}))},[n]),e.jsx("div",{children:e.jsx(h,{open:n,setOpen:o,button:e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center justify-center w-1/2 px-5 py-2 text-sm tracking-wide text-white transition-colors duration-200 bg-blue-500 rounded-lg shrink-0 sm:w-auto gap-x-2 hover:bg-blue-600  hover:bg-blue-500  bg-blue-600",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:"Create Loyal Card"})]}),children:e.jsx("div",{className:"flex h-full w-full",children:e.jsxs("form",{onSubmit:u,className:" flex flex-col w-full",children:[e.jsx("div",{className:"flex-none",children:e.jsx("div",{className:"text-2xl font-bold",children:"Create Loyal Card"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username",children:"Fullname"}),e.jsx("input",{required:!0,value:s.fullname??"",onChange:t=>a(l({...s,fullname:t.target.value})),className:" appearance-none border rounded w-full py-3 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"fullname",type:"text",placeholder:"Input fullname"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("label",{className:"gap-3 flex text-gray-700 text-sm font-bold mb-2",htmlFor:"username",children:["Pincode ",e.jsx("div",{className:"text-red-500  font-thin",children:"(Pincode must be 6 digits)"})]}),e.jsx("input",{required:!0,value:s.pincode??"",onChange:t=>{var c;(c=s.pincode)==null||c.length;const m=t.target.value.replace(/[^0-9]/g,"").substring(0,6);a(l({...s,pincode:m,barcode:x().valueOf()}))},className:"appearance-none border rounded w-full py-3 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"pincode",type:"text",placeholder:"Input pincode"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username",children:"Discount"}),e.jsx("input",{required:!0,value:s.discount??"",onChange:t=>a(l({...s,discount:t.target.value.replace(/[^0-9.]/g,"")})),className:" appearance-none border rounded w-full py-3 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"discount",type:"text",placeholder:"Input discount"})]})]})}),e.jsx("div",{className:"flex items-center justify-center w-full flex-none",children:e.jsx("button",{className:"bg-red-500 hover:bg-red-400 p-3 w-full rounded-md text-white font-bold",children:"Submit"})})]})})})})}export{E as default};
