import{r as l,R as v,L as N}from"./app-15ab478a.js";import{h as A,T as H,b as F,a as y,s as T}from"./keyboard-a9d51385.js";import{s as h,o as m,d as S,U as $,y as C,T as k,e as P,b as I,l as w,C as R}from"./use-flags-3d563ab4.js";function B(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function D(){return/Android/gi.test(window.navigator.userAgent)}function U(){return B()||D()}function p(e,r,u){let n=h(r);l.useEffect(()=>{function o(a){n.current(a)}return document.addEventListener(e,o,u),()=>document.removeEventListener(e,o,u)},[e,u])}function b(e,r,u){let n=h(r);l.useEffect(()=>{function o(a){n.current(a)}return window.addEventListener(e,o,u),()=>window.removeEventListener(e,o,u)},[e,u])}function Z(e,r,u=!0){let n=l.useRef(!1);l.useEffect(()=>{requestAnimationFrame(()=>{n.current=u})},[u]);function o(t,i){if(!n.current||t.defaultPrevented)return;let c=i(t);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let f=function d(s){return typeof s=="function"?d(s()):Array.isArray(s)||s instanceof Set?s:[s]}(e);for(let d of f){if(d===null)continue;let s=d instanceof HTMLElement?d:d.current;if(s!=null&&s.contains(c)||t.composed&&t.composedPath().includes(s))return}return!A(c,H.Loose)&&c.tabIndex!==-1&&t.preventDefault(),r(t,c)}let a=l.useRef(null);p("pointerdown",t=>{var i,c;n.current&&(a.current=((c=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:c[0])||t.target)},!0),p("mousedown",t=>{var i,c;n.current&&(a.current=((c=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:c[0])||t.target)},!0),p("click",t=>{U()||a.current&&(o(t,()=>a.current),a.current=null)},!0),p("touchend",t=>o(t,()=>t.target instanceof HTMLElement?t.target:null),!0),b("blur",t=>o(t,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function g(...e){return l.useMemo(()=>F(...e),[...e])}function ee(e,r,u,n){let o=h(u);l.useEffect(()=>{e=e??window;function a(t){o.current(t)}return e.addEventListener(r,a,n),()=>e.removeEventListener(r,a,n)},[e,r,n])}function j(e){let r=m(e),u=l.useRef(!1);l.useEffect(()=>(u.current=!1,()=>{u.current=!0,S(()=>{u.current&&r()})}),[r])}var q=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(q||{});function te(){let e=l.useRef(0);return b("keydown",r=>{r.key==="Tab"&&(e.current=r.shiftKey?1:0)},!0),e}let L=l.createContext(!1);function G(){return l.useContext(L)}function ne(e){return v.createElement(L.Provider,{value:e.force},e.children)}function O(e){let r=G(),u=l.useContext(M),n=g(e),[o,a]=l.useState(()=>{if(!r&&u!==null||P.isServer)return null;let t=n==null?void 0:n.getElementById("headlessui-portal-root");if(t)return t;if(n===null)return null;let i=n.createElement("div");return i.setAttribute("id","headlessui-portal-root"),n.body.appendChild(i)});return l.useEffect(()=>{o!==null&&(n!=null&&n.body.contains(o)||n==null||n.body.appendChild(o))},[o,n]),l.useEffect(()=>{r||u!==null&&a(u.current)},[u,a,r]),o}let K=l.Fragment;function _(e,r){let u=e,n=l.useRef(null),o=C(k(d=>{n.current=d}),r),a=g(n),t=O(n),[i]=l.useState(()=>{var d;return P.isServer?null:(d=a==null?void 0:a.createElement("div"))!=null?d:null}),c=l.useContext(E),f=I();return w(()=>{!t||!i||t.contains(i)||(i.setAttribute("data-headlessui-portal",""),t.appendChild(i))},[t,i]),w(()=>{if(i&&c)return c.register(i)},[c,i]),j(()=>{var d;!t||!i||(i instanceof Node&&t.contains(i)&&t.removeChild(i),t.childNodes.length<=0&&((d=t.parentElement)==null||d.removeChild(t)))}),f?!t||!i?null:N.createPortal(R({ourProps:{ref:o},theirProps:u,defaultTag:K,name:"Portal"}),i):null}let z=l.Fragment,M=l.createContext(null);function J(e,r){let{target:u,...n}=e,o={ref:C(r)};return v.createElement(M.Provider,{value:u},R({ourProps:o,theirProps:n,defaultTag:z,name:"Popover.Group"}))}let E=l.createContext(null);function re(){let e=l.useContext(E),r=l.useRef([]),u=m(a=>(r.current.push(a),e&&e.register(a),()=>n(a))),n=m(a=>{let t=r.current.indexOf(a);t!==-1&&r.current.splice(t,1),e&&e.unregister(a)}),o=l.useMemo(()=>({register:u,unregister:n,portals:r}),[u,n,r]);return[r,l.useMemo(()=>function({children:a}){return v.createElement(E.Provider,{value:o},a)},[o])]}let Q=$(_),V=$(J),ue=Object.assign(Q,{Group:V});function oe({defaultContainers:e=[],portals:r,mainTreeNodeRef:u}={}){var n;let o=l.useRef((n=u==null?void 0:u.current)!=null?n:null),a=g(o),t=m(()=>{var i,c,f;let d=[];for(let s of e)s!==null&&(s instanceof HTMLElement?d.push(s):"current"in s&&s.current instanceof HTMLElement&&d.push(s.current));if(r!=null&&r.current)for(let s of r.current)d.push(s);for(let s of(i=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?i:[])s!==document.body&&s!==document.head&&s instanceof HTMLElement&&s.id!=="headlessui-portal-root"&&(s.contains(o.current)||s.contains((f=(c=o.current)==null?void 0:c.getRootNode())==null?void 0:f.host)||d.some(x=>s.contains(x))||d.push(s));return d});return{resolveContainers:t,contains:m(i=>t().some(c=>c.contains(i))),mainTreeNodeRef:o,MainTreeNode:l.useMemo(()=>function(){return u!=null?null:v.createElement(y,{features:T.Hidden,ref:o})},[o,u])}}function le(){let e=l.useRef(null);return{mainTreeNodeRef:e,MainTreeNode:l.useMemo(()=>function(){return v.createElement(y,{features:T.Hidden,ref:e})},[e])}}export{ee as E,oe as N,te as a,le as b,j as c,ue as d,re as e,ne as l,g as n,q as s,B as t,Z as y};
